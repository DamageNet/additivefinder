"use strict";(self.webpackChunkAdditiveFinder=self.webpackChunkAdditiveFinder||[]).push([[5715],{5715:(G,g,r)=>{r.r(g),r.d(g,{ListModule:()=>I});var a=r(6895),d=r(5861),u=r(7158),p=r(5444),t=r(1571),m=r(3424),l=r(4378);function h(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"ion-item",7),t.NdJ("click",function(){const c=t.CHM(n).$implicit,f=t.oxw(2);return t.KtG(f.displayAdditive(c.id))}),t.TgZ(1,"ion-thumbnail",8),t._uU(2),t.qZA(),t.TgZ(3,"ion-label")(4,"h2"),t._uU(5),t.qZA(),t.TgZ(6,"h3"),t._uU(7),t.qZA()()()}if(2&o){const n=s.$implicit;t.xp6(2),t.hij("E ",n.id,""),t.xp6(3),t.Oqu(n.name),t.xp6(2),t.Oqu(n.type)}}function v(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"ion-list"),t.YNc(1,h,8,3,"ion-item",5),t.TgZ(2,"ion-button",6),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.logOutWithGoogle())}),t._uU(3,"Log out"),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.data.list.additives)}}function _(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"ion-button",6),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.logInWithGoogle())}),t._uU(1,"Log in"),t.qZA()}}let L=(()=>{class o{constructor(n,i,e){this._route=n,this._router=i,this._auth=e,this.maxItems=30,this.auth=(0,u.v0)()}ngOnInit(){this.data=this._route.snapshot.data,console.log("Get data from full-list resolver."),console.log(this.data)}logInWithGoogle(){var n=this;return(0,d.Z)(function*(){const i=new p.hJ,e=yield(0,u.rh)(n._auth,i);e.user.uid&&console.log("User logged in as : ",e.user.displayName," , uid : ",e.user.uid)})()}logOutWithGoogle(){var n=this;return(0,d.Z)(function*(){yield(0,u.w7)(n._auth),console.log("User logged out")})()}loadMore(n){setTimeout(()=>{console.log("Done"),n.target.complete(),this.maxItems+=10},500)}displayAdditive(n){n.length>0&&this._router.navigate(["detail",n])}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(m.gz),t.Y36(m.F0),t.Y36(u.gx))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-list"]],decls:5,vars:2,consts:[[1,"ion-text-center"],[4,"ngIf"],[3,"click",4,"ngIf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","Circles","loadingText","Loading..."],["item","",3,"click",4,"ngFor","ngForOf"],[3,"click"],["item","",3,"click"],[1,"ion-justify-content-center","ion-align-item-center"]],template:function(n,i){1&n&&(t.TgZ(0,"ion-content",0),t.YNc(1,v,4,1,"ion-list",1),t.YNc(2,_,2,0,"ion-button",2),t.TgZ(3,"ion-infinite-scroll",3),t.NdJ("ionInfinite",function(c){return i.loadMore(c)}),t._UZ(4,"ion-infinite-scroll-content",4),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("ngIf",null==i.auth.currentUser?null:i.auth.currentUser.uid),t.xp6(1),t.Q6J("ngIf",!(null!=i.auth.currentUser&&i.auth.currentUser.uid)))},dependencies:[a.sg,a.O5,l.YG,l.W2,l.ju,l.MB,l.Ie,l.Q$,l.q_,l.Bs]}),o})();var x=r(6805),C=r(930),T=r(529);let F=(()=>{class o{constructor(n){this._http=n}getData(){var n=this;return(0,d.Z)(function*(){const e=n._http.get("./assets/db.json"),c=yield function y(o,s){const n="object"==typeof s;return new Promise((i,e)=>{const c=new C.Hp({next:f=>{i(f),c.unsubscribe()},error:e,complete:()=>{n?i(s.defaultValue):e(new x.K)}});o.subscribe(c)})}(e);return console.log(`LoadDataService (json) : ${c}`),c})()}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(T.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Z=(()=>{class o{constructor(n){this._service=n}resolve(){return this._service.getData()}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(F))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),I=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[a.ez,l.Pc,m.Bz.forChild([{path:"",component:L,resolve:{list:Z}}])]}),o})()}}]);